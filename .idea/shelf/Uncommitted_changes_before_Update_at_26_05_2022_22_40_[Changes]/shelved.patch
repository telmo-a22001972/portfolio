Index: portfolio/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.http import HttpResponseRedirect\r\nfrom django.shortcuts import render\r\n\r\nfrom .forms import *\r\nfrom .models import *\r\n# Create your views here.\r\nfrom .quizz_functs import pontuacao_quizz\r\n\r\n\r\ndef home_page_view(request):\r\n    return render(request, 'portfolio/home.html')\r\n\r\n\r\ndef layout_page_view(request):\r\n    return render(request, 'portfolio/layout.html')\r\n\r\n\r\ndef about_page_view(request):\r\n    context = {'cadeiras': sorted(Cadeira.objects.all(), key=lambda cadeira: cadeira.ano and cadeira.semestre)}\r\n    return render(request, 'portfolio/about.html', context)\r\n\r\n\r\ndef apresentacao_page_view(request):\r\n    return render(request, 'portfolio/apresentacao.html')\r\n\r\n\r\ndef competencias_page_view(request):\r\n    return render(request, 'portfolio/competencias.html')\r\n\r\n\r\ndef formacao_page_view(request):\r\n    return render(request, 'portfolio')\r\n\r\n\r\ndef projetos_page_view(request):\r\n    return render(request, 'portfolio/projetos.html')\r\n\r\n\r\n\r\ndef posts_page_view(request):\r\n    context = {'posts': sorted(Post.objects.all(), key=lambda objeto:objeto.criacao, reverse=True)}\r\n    return render(request, 'portfolio/posts.html', context)\r\n\r\n\r\ndef criar_post_page_view(request):\r\n    form = PostForm(request.POST or None)\r\n    if form.is_valid():\r\n        form.save()\r\n        return HttpResponseRedirect('/posts')\r\n\r\n    context = {'form':form}\r\n\r\n    return render(request, 'portfolio/criar_post.html', context)\r\n\r\n\r\ndef criar_comentario_page_view(request):\r\n    form = ComentarioForm(request.POST or None)\r\n    if form.is_valid():\r\n        form.save()\r\n        return HttpResponseRedirect('/posts')\r\n\r\n    context = {'form':form}\r\n\r\n    return render(request, 'portfolio/criar_comentario.html', context)\r\n\r\n\r\ndef web_page_view(request):\r\n    if request.method == 'POST':\r\n        name = request.POST['nome']+\" \"+request.POST['apelido']\r\n        pontuacao = pontuacao_quizz(request)\r\n\r\n        r = PontuacaoQuizz(nome = name, pontuacao=pontuacao)\r\n        r.save()\r\n\r\n    return render(request, 'portfolio/web.html')\r\n\r\ndef criar_cadeira_page_view(request):\r\n    form = CadeiraForm(request.POST or None)\r\n    if form.is_valid():\r\n        form.save()\r\n        return HttpResponseRedirect('/about')\r\n\r\n    context = {'form':form}\r\n\r\n    return render(request, 'portfolio/criar_cadeira.html', context)\r\n\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/portfolio/views.py b/portfolio/views.py
--- a/portfolio/views.py	(revision 0e6c4c3419deec6d3afd9b2a57fd20625bb03503)
+++ b/portfolio/views.py	(date 1653513034110)
@@ -38,6 +38,12 @@
 
 
 def posts_page_view(request):
+    #for post in Post.objects.all():
+    #    if post.id == comentario.id:
+    #        post.comentarios.add(comentario)
+    #        post.save()
+
+
     context = {'posts': sorted(Post.objects.all(), key=lambda objeto:objeto.criacao, reverse=True)}
     return render(request, 'portfolio/posts.html', context)
 
@@ -54,12 +60,12 @@
 
 
 def criar_comentario_page_view(request):
-    form = ComentarioForm(request.POST or None)
-    if form.is_valid():
-        form.save()
+    comentario = ComentarioForm(request.POST or None)
+    if comentario.is_valid():
+        comentario.save()
         return HttpResponseRedirect('/posts')
 
-    context = {'form':form}
+    context = {'comentario':comentario}
 
     return render(request, 'portfolio/criar_comentario.html', context)
 
Index: portfolio/templates/portfolio/criar_comentario.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends 'portfolio/layout.html' %}\r\n\r\n{% block estilos %}\r\n    {% load static %}\r\n    <link href=\"{% static 'portfolio/css/styles_criar_post.css'  %}\" rel=\"stylesheet\" type=\"text/css\">\r\n{% endblock %}\r\n\r\n{% block main %}\r\n    <h1>Adicionar Comentário</h1>\r\n\r\n    <div class=\"container\">\r\n        <form action=\"\" method=\"POST\">\r\n            {% csrf_token %}\r\n            {{form.as_p}}\r\n            <input type=\"submit\" value=\"Post\">\r\n        </form>\r\n    </div>\r\n{% endblock %}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/portfolio/templates/portfolio/criar_comentario.html b/portfolio/templates/portfolio/criar_comentario.html
--- a/portfolio/templates/portfolio/criar_comentario.html	(revision 0e6c4c3419deec6d3afd9b2a57fd20625bb03503)
+++ b/portfolio/templates/portfolio/criar_comentario.html	(date 1653512590704)
@@ -11,7 +11,7 @@
     <div class="container">
         <form action="" method="POST">
             {% csrf_token %}
-            {{form.as_p}}
+            {{comentario.as_p}}
             <input type="submit" value="Post">
         </form>
     </div>
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"adc7fcb3-1d4f-460f-b2b4-d749dababb31\" name=\"Changes\" comment=\"Já se adicionam cadeiras novas\">\r\n      <change afterPath=\"$PROJECT_DIR$/portfolio/migrations/0013_comentario_post_comentarios.py\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/portfolio/migrations/0014_comentario_criacao.py\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/portfolio/templates/portfolio/criar_comentario.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/portfolio/admin.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/portfolio/admin.py\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/portfolio/forms.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/portfolio/forms.py\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/portfolio/models.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/portfolio/models.py\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/portfolio/templates/portfolio/about.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/portfolio/templates/portfolio/about.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/portfolio/templates/portfolio/criar_post.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/portfolio/templates/portfolio/criar_post.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/portfolio/templates/portfolio/posts.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/portfolio/templates/portfolio/posts.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/portfolio/urls.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/portfolio/urls.py\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/portfolio/views.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/portfolio/views.py\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"CSS File\" />\r\n        <option value=\"HTML File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n    <option name=\"UPDATE_TYPE\" value=\"REBASE\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"29XIb1pheZoXIuvEATYrab69VIg\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"ASKED_ADD_EXTERNAL_FILES\" value=\"true\" />\r\n    <property name=\"DefaultHtmlFileTemplate\" value=\"HTML File\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"list.type.of.created.stylesheet\" value=\"CSS\" />\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"portoflio\" type=\"Python.DjangoServer\" factoryName=\"Django server\">\r\n      <module name=\"portoflio\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"false\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"launchJavascriptDebuger\" value=\"false\" />\r\n      <option name=\"port\" value=\"8000\" />\r\n      <option name=\"host\" value=\"\" />\r\n      <option name=\"additionalOptions\" value=\"\" />\r\n      <option name=\"browserUrl\" value=\"\" />\r\n      <option name=\"runTestServer\" value=\"false\" />\r\n      <option name=\"runNoReload\" value=\"false\" />\r\n      <option name=\"useCustomRunCommand\" value=\"false\" />\r\n      <option name=\"customRunCommand\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"adc7fcb3-1d4f-460f-b2b4-d749dababb31\" name=\"Changes\" comment=\"\" />\r\n      <created>1653253077513</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1653253077513</updated>\r\n      <workItem from=\"1653253080262\" duration=\"657000\" />\r\n      <workItem from=\"1653397913239\" duration=\"809000\" />\r\n      <workItem from=\"1653428296366\" duration=\"10711000\" />\r\n      <workItem from=\"1653439166741\" duration=\"589000\" />\r\n      <workItem from=\"1653440205082\" duration=\"704000\" />\r\n      <workItem from=\"1653493303063\" duration=\"6825000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Já se adicionam cadeiras novas\">\r\n      <created>1653438954603</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1653438954603</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"2\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"Já se adicionam cadeiras novas\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"Já se adicionam cadeiras novas\" />\r\n    <option name=\"GROUP_MULTIFILE_MERGE_BY_DIRECTORY\" value=\"true\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 0e6c4c3419deec6d3afd9b2a57fd20625bb03503)
+++ b/.idea/workspace.xml	(date 1653513048845)
@@ -1,17 +1,9 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ChangeListManager">
-    <list default="true" id="adc7fcb3-1d4f-460f-b2b4-d749dababb31" name="Changes" comment="Já se adicionam cadeiras novas">
-      <change afterPath="$PROJECT_DIR$/portfolio/migrations/0013_comentario_post_comentarios.py" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/portfolio/migrations/0014_comentario_criacao.py" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/portfolio/templates/portfolio/criar_comentario.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/portfolio/admin.py" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/admin.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/portfolio/forms.py" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/forms.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/portfolio/models.py" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/models.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/portfolio/templates/portfolio/about.html" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/templates/portfolio/about.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/portfolio/templates/portfolio/criar_post.html" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/templates/portfolio/criar_post.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/portfolio/templates/portfolio/posts.html" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/templates/portfolio/posts.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/portfolio/urls.py" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/urls.py" afterDir="false" />
+    <list default="true" id="adc7fcb3-1d4f-460f-b2b4-d749dababb31" name="Changes" comment="Comentários no blog, mas ele não adiciona sozinho ao post">
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/portfolio/templates/portfolio/criar_comentario.html" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/templates/portfolio/criar_comentario.html" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/portfolio/views.py" beforeDir="false" afterPath="$PROJECT_DIR$/portfolio/views.py" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
@@ -88,7 +80,8 @@
       <workItem from="1653428296366" duration="10711000" />
       <workItem from="1653439166741" duration="589000" />
       <workItem from="1653440205082" duration="704000" />
-      <workItem from="1653493303063" duration="6825000" />
+      <workItem from="1653493303063" duration="7942000" />
+      <workItem from="1653511477347" duration="1372000" />
     </task>
     <task id="LOCAL-00001" summary="Já se adicionam cadeiras novas">
       <created>1653438954603</created>
@@ -97,7 +90,14 @@
       <option name="project" value="LOCAL" />
       <updated>1653438954603</updated>
     </task>
-    <option name="localTasksCounter" value="2" />
+    <task id="LOCAL-00002" summary="Comentários no blog, mas ele não adiciona sozinho ao post">
+      <created>1653501135063</created>
+      <option name="number" value="00002" />
+      <option name="presentableId" value="LOCAL-00002" />
+      <option name="project" value="LOCAL" />
+      <updated>1653501135063</updated>
+    </task>
+    <option name="localTasksCounter" value="3" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -117,7 +117,8 @@
   <component name="VcsManagerConfiguration">
     <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
     <MESSAGE value="Já se adicionam cadeiras novas" />
-    <option name="LAST_COMMIT_MESSAGE" value="Já se adicionam cadeiras novas" />
+    <MESSAGE value="Comentários no blog, mas ele não adiciona sozinho ao post" />
+    <option name="LAST_COMMIT_MESSAGE" value="Comentários no blog, mas ele não adiciona sozinho ao post" />
     <option name="GROUP_MULTIFILE_MERGE_BY_DIRECTORY" value="true" />
   </component>
 </project>
\ No newline at end of file
